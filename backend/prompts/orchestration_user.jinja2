Produce final replenishment directives from the pre-joined pharmacy data below. Each pharmacy has risk (country_risk), gaps (critical_gaps), and logistics (available_distributors) already linked.

## Joined Pharmacies
{{ joined_pharmacies_json }}

Return a valid JSON object with: replenishment_directives (array), grand_total_cost_usd, overall_system_summary.
Each directive: pharmacy_id, pharmacy_name, location, severity (from country_risk.risk_level: LOW|MEDIUM|HIGH|CRITICAL), priority_rank, assigned_distributor_id, assigned_distributor_name (MUST be from this pharmacy's available_distributors), drugs_to_deliver (drug_name, category, quantity, unit_cost_usd, total_cost_usd, rationale), total_order_cost_usd, delivery_window, feasibility_flag (FEASIBLE|CONSTRAINED|INFEASIBLE), directive_summary.
